---
id: bd-92268a
title: Setup hybrid linting toolchain (Oxlint + ESLint + Prettier)
status: closed
priority: 1
type: task
created_at: 2026-01-04T05:13:54.659180+00:00
updated_at: 2026-01-04T20:35:00.000000+00:00
closed_at: 2026-01-04T20:35:00.000000+00:00
created_by: kevinchen
created_by_type: human
labels:
- sunday-jan-5th
- linting
- dx
---

## Summary

Setup hybrid linting toolchain per ADR-002. Neither Biome nor Oxlint currently support Svelte template linting, so we use a hybrid approach:

- **Oxlint** for JS/TS files (50-100x faster than ESLint, 645+ rules)
- **ESLint + eslint-plugin-svelte** for .svelte files (template linting, a11y)
- **Prettier + prettier-plugin-svelte** for formatting

## Tasks

- [x] Install dependencies:
  ```bash
  bun add -D oxlint eslint eslint-plugin-svelte svelte-eslint-parser @typescript-eslint/parser prettier prettier-plugin-svelte
  ```
- [x] Create `oxlint.json` with ignorePatterns for `.svelte` files
- [x] Create `eslint.config.js` for Svelte-only linting (flat config)
- [x] Create `prettier.config.js` with svelte plugin
- [x] Update `package.json` scripts:
  - `lint`: `oxlint . && eslint --ext .svelte src/`
  - `lint:fix`: `oxlint --fix . && eslint --fix --ext .svelte src/`
  - `format`: `prettier --write .`
  - `format:check`: `prettier --check .`
  - `validate`: `bun run lint && bun run format:check && bun run check`
- [x] Add `.vscode/settings.json` for editor integration
- [ ] ~~Update `.husky/hooks/pre-commit` to run both linters on staged files~~ (deferred - hbd-ui not in root pre-commit yet)

## Rationale

See `.decisions/002-linting-and-formatting-toolchain.md` for full ADR.

**Key insight:** Biome and Oxlint cannot lint Svelte templates (`{#if}`, `{#each}`, `$derived`, a11y rules). Only `eslint-plugin-svelte` provides comprehensive Svelte 5 support.

## Migration Path

When Biome or Oxlint adds comprehensive Svelte support, migrate to single tool.

## Comments

### 2026-01-04T20:35:00.000000+00:00 â€” kevinchen (human)

Closed: Implemented hybrid linting setup. Initial lint run found 15 errors and 41 warnings in existing code - these will be addressed when rebuilding UI with shadcn-svelte.
