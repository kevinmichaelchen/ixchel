---
id: bd-96635d
title: Refactor hbd crate for library reuse
status: closed
priority: 1
type: issue
issue_type: task
created_at: 2026-01-04T05:14:36.177315+00:00
updated_at: 2026-01-04T19:55:00.000000+00:00
created_by: kevinchen
created_by_type: human
labels:
- sunday-jan-5th
- rust
- refactor
---

Refactored hbd crate to be reusable as a library from Tauri backend.

## Changes Made

- Added explicit `[lib]` section to `hbd/Cargo.toml`
- Made `markdown` module public for custom parsing needs
- Added crate-level documentation with quick start example
- Exported `generate_issue_id` function for creating new issue IDs

## Public API

The hbd library now exposes:

### Modules

- `storage` - TicketStore for file-based issue management
- `types` - Issue, Status, Priority, IssueType, etc.
- `markdown` - Parse/render issue Markdown with YAML frontmatter
- `domain` - Dependency graph operations
- `error` - Error types
- `db` - HelixDB integration (placeholder)

### Key Exports

- `TicketStore` - Main API for CRUD operations
  - `read_all_issues()` - List all issues
  - `read_issue(id)` - Get specific issue
  - `write_issue(&issue)` - Create/update issue
  - `delete_issue(id)` - Delete issue
- `Issue`, `Status`, `Priority`, `IssueType` - Core types
- `generate_issue_id()` - Create new bd-XXXXXX IDs

## Verification

- `cargo check -p hbd` passes
- `cargo check -p hbd-ui` passes (depends on hbd)
