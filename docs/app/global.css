@import 'tailwindcss';
@import 'fumadocs-ui/css/neutral.css';
@import 'fumadocs-ui/css/preset.css';

/*
 * Custom theme extending fumadocs-ui neutral theme
 * Typography: Geist Sans + Geist Mono
 * Light mode: clean slate with strong contrast and cyan accents
 * Dark mode: deep blue-black with cyan accents
 */

@theme {
  /* Typography - Geist font family */
  --font-sans: var(--font-geist-sans), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, 'SF Mono', monospace;

  /* Primary accent colors */
  --color-primary: hsl(199 89% 48%);
  --color-primary-foreground: hsl(0 0% 100%);
  --color-ring: hsl(199 89% 48%);

  /* Custom semantic colors */
  --color-surface: hsl(0 0% 98%);
  --color-surface-elevated: hsl(0 0% 100%);
}

/* Light mode - explicit overrides for visibility */
:root {
  --color-fd-background: hsl(0 0% 100%);
  --color-fd-foreground: hsl(222.2 47% 11%);
  --color-fd-card: hsl(0 0% 100%);
  --color-fd-card-foreground: hsl(222.2 47% 11%);
  --color-fd-popover: hsl(0 0% 100%);
  --color-fd-popover-foreground: hsl(222.2 47% 11%);
  --color-fd-muted: hsl(210 40% 96%);
  --color-fd-muted-foreground: hsl(215 16% 47%);
  --color-fd-border: hsl(214 32% 91%);
  --color-fd-accent: hsl(210 40% 96%);
  --color-fd-accent-foreground: hsl(222.2 47% 11%);
  --color-fd-secondary: hsl(210 40% 96%);
  --color-fd-secondary-foreground: hsl(222.2 47% 11%);
  --color-fd-primary: hsl(199 89% 48%);
  --color-fd-primary-foreground: hsl(0 0% 100%);
  --color-fd-ring: hsl(199 89% 48%);
}

/* Dark mode overrides */
.dark {
  /* Override fumadocs colors with our custom dark palette */
  --color-fd-background: hsl(222.2 84% 4.9%);
  --color-fd-foreground: hsl(210 40% 98%);
  --color-fd-card: hsl(222.2 47% 8%);
  --color-fd-card-foreground: hsl(210 40% 98%);
  --color-fd-popover: hsl(222.2 47% 8%);
  --color-fd-popover-foreground: hsl(210 40% 98%);
  --color-fd-muted: hsl(217.2 32.6% 12%);
  --color-fd-muted-foreground: hsl(215 20.2% 65.1%);
  --color-fd-border: hsl(217.2 32.6% 17.5%);
  --color-fd-accent: hsl(217.2 32.6% 17.5%);
  --color-fd-accent-foreground: hsl(210 40% 98%);
  --color-fd-secondary: hsl(217.2 32.6% 17.5%);
  --color-fd-secondary-foreground: hsl(210 40% 98%);
  --color-fd-primary: hsl(199 89% 48%);
  --color-fd-primary-foreground: hsl(0 0% 100%);
  --color-fd-ring: hsl(199 89% 48%);

  /* Custom semantic colors for dark mode */
  --color-surface: hsl(222.2 47% 6%);
  --color-surface-elevated: hsl(222.2 47% 9%);
}

/* Body styling - light mode default with grid pattern */
body {
  background-color: var(--color-fd-background);
  background-image:
    linear-gradient(to right, rgba(0, 0, 0, 0.015) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(0, 0, 0, 0.015) 1px, transparent 1px);
  background-size: 4rem 4rem;
  background-position: center top;
}

/* Dark mode grid pattern override */
html.dark body {
  background-image:
    linear-gradient(to right, rgba(255, 255, 255, 0.03) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
}

/* Utility classes */
.text-gradient {
  @apply bg-clip-text text-transparent bg-gradient-to-r from-sky-400 via-cyan-400 to-indigo-400;
}

/* Glow card - light mode default */
.glow-card {
  @apply relative overflow-hidden rounded-xl border border-black/10 bg-black/[0.02] p-6;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.glow-card:hover {
  @apply border-sky-500/50 bg-black/[0.04];
  box-shadow: 0 0 30px -10px rgba(14, 165, 233, 0.2);
  transform: translateY(-2px);
}

/* Glow card - dark mode */
html.dark .glow-card {
  @apply border-white/10 bg-white/5;
}

html.dark .glow-card:hover {
  @apply bg-white/10;
  box-shadow: 0 0 40px -10px rgba(14, 165, 233, 0.35);
}

/* Scrollbar styling - light mode default */
::-webkit-scrollbar {
  width: 10px;
}

::-webkit-scrollbar-track {
  background: hsl(0 0% 96%);
}

::-webkit-scrollbar-thumb {
  background: hsl(0 0% 80%);
  border-radius: 5px;
  border: 2px solid hsl(0 0% 96%);
}

::-webkit-scrollbar-thumb:hover {
  background: hsl(199 89% 48% / 0.5);
}

/* Scrollbar - dark mode */
html.dark ::-webkit-scrollbar-track {
  background: hsl(222.2 84% 4.9%);
}

html.dark ::-webkit-scrollbar-thumb {
  background: hsl(217.2 32.6% 20%);
  border: 2px solid hsl(222.2 84% 4.9%);
}

/* Typography - ensure strong contrast for headings */
h1, h2, h3, h4, h5, h6 {
  color: var(--color-fd-foreground);
  font-weight: 700;
  letter-spacing: -0.025em;
}

h1 {
  letter-spacing: -0.035em;
}

/* Smooth transitions for all interactive elements */
a, button, input, textarea, select {
  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Focus ring styling - accessible and on-brand */
:focus-visible {
  outline: 2px solid var(--color-fd-primary);
  outline-offset: 2px;
}

/* Remove default focus outline for mouse users */
:focus:not(:focus-visible) {
  outline: none;
}

/* MDX prose content - light mode improvements */
.prose h1,
.prose h2,
.prose h3,
.prose h4 {
  color: var(--color-fd-foreground);
}

.prose p,
.prose li {
  color: var(--color-fd-foreground);
}

.prose strong {
  color: var(--color-fd-foreground);
  font-weight: 600;
}

.prose a {
  color: var(--color-fd-primary);
  text-decoration: underline;
  text-underline-offset: 3px;
  text-decoration-thickness: 1px;
  text-decoration-color: transparent;
}

.prose a:hover {
  color: hsl(199 89% 38%);
  text-decoration-color: currentColor;
}

html.dark .prose a:hover {
  color: hsl(199 89% 58%);
}

/* Code blocks - light mode */
.prose code {
  font-family: var(--font-mono);
  background: hsl(210 40% 96%);
  color: hsl(222.2 47% 20%);
  padding: 0.2em 0.4em;
  border-radius: 4px;
  font-size: 0.875em;
  font-weight: 500;
}

html.dark .prose code {
  background: hsl(217.2 32.6% 17.5%);
  color: hsl(199 89% 70%);
}

/* Monospace elements use Geist Mono */
code, kbd, pre, samp {
  font-family: var(--font-mono);
}

/* Table styling - light mode visibility */
.prose table th {
  color: var(--color-fd-foreground);
  font-weight: 600;
  background: hsl(210 40% 98%);
}

html.dark .prose table th {
  background: hsl(217.2 32.6% 12%);
}

.prose table td {
  color: var(--color-fd-foreground);
}

/* Sidebar and navigation - light mode */
[data-fd-sidebar] a,
[data-fd-toc] a {
  color: var(--color-fd-muted-foreground);
  position: relative;
}

[data-fd-sidebar] a:hover,
[data-fd-toc] a:hover {
  color: var(--color-fd-foreground);
}

[data-fd-sidebar] a[data-active="true"],
[data-fd-toc] a[data-active="true"] {
  color: var(--color-fd-primary);
  font-weight: 500;
}

/* Card components in light mode */
[data-fd-card] {
  background: var(--color-fd-card);
  border-color: var(--color-fd-border);
}

[data-fd-card]:hover {
  border-color: var(--color-fd-primary);
}
